(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{23:function(e,t,s){},24:function(e,t,s){},44:function(e,t,s){"use strict";s.r(t);var n,a=s(0),i=s(2),c=s.n(i),r=s(17),u=s.n(r),o=(s(23),s(3)),l=s(4),d=s(7),h=s(6),m=s(5),j=(s(24),s(25),function(e){var t=e.text,s=e.username,n=e.self;return Object(a.jsxs)("div",{className:"message"+(n?" message-self":""),children:[Object(a.jsx)("div",{className:"message-username",children:s}),Object(a.jsx)("div",{className:"message-text",children:t})]})}),b=function(e){Object(h.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).messageWindow=c.a.createRef(),n}return Object(l.a)(s,[{key:"componentDidUpdate",value:function(){var e=this.messageWindow.current;e.scrollTop=e.scrollHeight-e.clientHeight}},{key:"render",value:function(){var e=this.props,t=e.messages,s=void 0===t?[]:t,n=e.username;return Object(a.jsx)("div",{className:"message-window",ref:this.messageWindow,children:s.map((function(e,t){return Object(a.jsx)(j,{text:e.text,username:e.username,self:n===e.username},t)}))})}}]),s}(c.a.Component),v=function(e){Object(h.a)(s,e);var t=Object(m.a)(s);function s(e){var n;return Object(o.a)(this,s),(n=t.call(this,e)).input=c.a.createRef(),n}return Object(l.a)(s,[{key:"sendMessage",value:function(){this.props.onSend&&this.props.onSend(this.input.current.value),this.input.current.value=""}},{key:"sendMessageIfEnter",value:function(e){13===e.keyCode&&this.sendMessage()}},{key:"render",value:function(){var e=this.sendMessage.bind(this),t=this.sendMessageIfEnter.bind(this);return Object(a.jsxs)("div",{className:"textbar",children:[Object(a.jsx)("input",{className:"textbar-input",type:"text",ref:this.input,onKeyDown:t}),Object(a.jsx)("button",{className:"textbar-send",onClick:e,children:"Send"})]})}}]),s}(i.Component),f=(window.location.host,function(e){Object(h.a)(s,e);var t=Object(m.a)(s);function s(e){var n,a;return Object(o.a)(this,s),(n=t.call(this,e)).state={messages:[],username:null},a=n.onMessageReceived.bind(Object(d.a)(n)),a,n}return Object(l.a)(s,[{key:"onMessageReceived",value:function(e){e=JSON.parse(e),this.setState({messages:this.state.messages.concat(e)})}},{key:"setUserName",value:function(e){this.setState({username:e})}},{key:"sendMessage",value:function(e){var t={username:this.state.username,text:e};n(JSON.stringify(t))}},{key:"render",value:function(){var e=this.setUserName.bind(this),t=this.sendMessage.bind(this);return null===this.state.username?Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"container-title",children:"Enter username"}),Object(a.jsx)(v,{onSend:e})]}):Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"container-title",children:"Messages"}),Object(a.jsx)(b,{messages:this.state.messages,username:this.state.username}),Object(a.jsx)(v,{onSend:t})]})}}]),s}(i.Component)),g=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,45)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;s(e),n(e),a(e),i(e),c(e)}))};u.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(f,{})}),document.getElementById("root")),g()}},[[44,1,2]]]);
//# sourceMappingURL=main.6cae4148.chunk.js.map